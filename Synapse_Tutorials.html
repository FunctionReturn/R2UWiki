<!DOCTYPE html>
<!-- saved from url=(0040)https://synapse.rip/synapse/syn/api.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>Synapse Tutorials</title>
		
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="main.css">
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
	</head>
	<body class="">

		<!-- Header -->
			<header id="header">
                <h1><a id="logo" href="https://synapse.rip/forums/">Synapse <span>by 3dsboy08</span></a></h1>
                <p align="right" style="padding-right: 20px"><a href="#main" style="text-decoration:none"><strong>Top</strong></a> | <a href="#index" style="text-decoration:none"><strong>Index</strong></a></p>
            </header>

		<!-- Main -->
			<section id="main" class="wrapper">
				<div class="container box big">

					<header class="major special">
					  <h2>Synapse  Tutorials</h2>
					  <p>Unoffical tutorials for the Synapse API.<br></p>
					</header>
                    
                    <h3>Intro</h3>
                     <p>This page's source can be found <a href="https://github.com/Zwolf8/Zwolf8.github.io" target="_blank">here</a>.</p>
                     <p>It is not recommended to read the following tutorials unless you are a intermeditate lua scripter.
                      <br>
			DISCLAIMER: I have not updated this in a very longgg time so its outdated. Some things may contain false information, if you wish to learn more about this dm me on discord.
                      <br>
                      The following tutorials will include: Metatables, Script Enviroments, The Debug Library, and level manipulation.<br>
                      <br>
                      <br>
                 
                     </p>
                    
                    <!--Index-->
                    <section>
                        <hr>
                        <a class="anchor" id="index"></a>
                        <h3>Index</h3>
                        <p>Click the links below to go to a given tutorial!</p>
                        <ul>
                            <br>
                            <strong>Metatables:</strong>
                            <ul>
                                <li><a href="#meta-table">Tables with the Meta</a></li>
                                <li><a href="#metamethod">Introduction to Metamethods</a></li>
                                <li><a href="#_index">__index Metamethod</a></li>
                                <li><a href="#_newindex">__newindex Metamethod</a></li>
                                <li><a href="#__namecall">__namecall Metamethod</a></li>
                                <li><a href="#metafinal">The uses of Metatables in Exploiting</a></li>
                            </ul>
                            <strong>Script Environments and Debug Library:</strong>
                            <ul>
                                <li><a href="#envintro">Environment Introduction</a></li>
                                <li><a href="#globalset">Setting Global Variables</a></li>
                                <li><a href="#upvintro">Introduction to upvalues</a></li>
                                <li><a href="#upvsetting">Setting Upvalues</a></li>
                                <li><a href="#renv-genv">Roblox Environment and Synapse Environment</a></li>
                                <li><a href="#registry">The Lua Registry and its uses</a></li>
                                <li><a href="#localconst">Locals and Constants</a></li>
                            </ul>

                            <strong>Level Manipulation</strong>
                            <ul>
                                <li><a href="#levelintro">Level Introduction</a></li>
                                <li><a href="#levelmanip">Level Manipulation</a></li>
                                <li><a href="#levelhook">Level Hooking</a></li>
                            </ul>

                        </ul>
                    </section>

					<!-- Text -->
					<section>
                        <hr>
                        <a class="anchor" id="meta-table"></a>
						<h3>Tables with the Meta</h3>
                        <p>Metatables are just tables, except with table events (<code>metamethods</code>)<br>
                        To get a meta from a table you can use getmetatable but most time we use debug.getmetatable (<code>getrawmetatable</code>) since most metatables are locked.
                        <br>
						Arguments: <code>table getrawmetatable( table )</code><br>
						Example:
						<code>local metatable = getrawmetatable(table)</code><br><br>
						</p>
                        
                        <hr>
                        <a class="anchor" id="metamethod"></a>
						<h3>Introduction to Metamethods</h3>
						<p>
                        Metamethods are table events they can be added to tables like this:
                        <code> <br>
                            setmetatable(thetable, { </code> <br>
                           <code>   __index = function(table,key) </code> <br>
                           <code>   print(table,key) </code> <br>
                           <code>end </code> <br>
                          <code>}) </code> <br>
                        <br><br>

							
			<strong>NOTE:</strong> setmetatable overwrites the metatable, if you want to set one metamethod then just do getrawmetatable(table).__index or any metamethod. <br> <br>
                        <code>Setmetatable</code> sets the __index metamethod to the table (thetable). <br>
                        When __index is fired, it will print the table and the key.
                        Table being the table was indexed, and key the thing that it was indexing for example <code>game.Players["IamTheKey"]</code> <br>
                        "IamTheKey" would be the key.

						</p>
                        
                        <hr>
                        <a class="anchor" id="_index"></a>
						<h3>__index Metamethod</h3>
                        <p>__index metamethod gets fired when the table that has this metamethod attached is indexed. <br>
                            <code>
                                setmetatable(thetable, { </code> <br>
                               <code>   __index = function(table,key) </code> <br>
                               <code>   print(table,key) </code> <br>
                               <code>end </code> <br>
                              <code>}) </code> <br>
                            <br><br>
    
			    <strong>NOTE:</strong> setmetatable overwrites the metatable, if you want to set one metamethod then just do getrawmetatable(table).__index or any metamethod. <br> <br>
				
                            <code>Setmetatable</code> sets the __index metamethod to the table (thetable). <br>
                            When __index is fired, it will print the table and the key.
                            Table being the table was indexed, and key the thing that it was indexing for example <code>game.Players["IamTheKey"]</code> <br>
                            "IamTheKey" would be the key.

                            You can attach this metamethod to game to see when the game is indexed or see when a game script indexs something and return <br>
                            something different.


						</p>
                        
						<hr>
                        <a class="anchor" id="_newindex"></a>
						<h3>__newindex Metamethod</h3>
						<p>
                            __newindex gets fired when something new is added to the table. For example: <br>
                            <code>table.NewItem = "This is a new item!"</code> <br>

                            An example of a __newindex metamethod attached to a table: <br>
                            <code> 
                                setmetatable(thetable, { </code> <br>
                               <code>   __newindex = function(table,key,value) </code> <br>
                               <code>   print(table,key,value) </code> <br>
                               <code>end </code> <br>
                              <code>}) </code> <br>

			      <strong>NOTE:</strong> setmetatable overwrites the metatable, if you want to set one metamethod then just do getrawmetatable(table).__index or any metamethod. <br> <br>
			      
                              When __newindex is fired on the table it will print the table which got a new value then key, and the new value. <br>
                              A example of firing this metamethod would be:

                              <code>thetable["key"] = "TheValue"</code>

                              "thetable" would be the table with the metamethod attached. The "key" would be the key, and the "TheValue" would be value.
                               

                              The uses are this should be self explantory.

						</p>
                        
                        <hr>
                        <a class="anchor" id="__namecall"></a>
						<h3>__namecall Metamethod</h3>
						<p>
                            This is probably is the most useful metamethod in exploiting. The __namecall metamethod is fired when a namecall is used. <br>
                            A example of a namecall would be:
                            <code>game.Players.LocalPlayer.Character:BreakJoints()</code>

                            The "BreakJoints" would be the namecall.

                            Inside the __namecall metamethod scope, you will have access to level 2 more is talked about this in Level Manipulation.
                            
                            With this metamethod you can make namecalls return different things or make them stop working entirely. <br>

                            For example if a game script (localscript/modulescript) is using the name :Kick on you, with your new advanced skills you can block it. <br>

                            To do this first we are going to get the game metatable to set the namecall metamethod. <br>

                            <code>local Metatable = getrawmetatable(game)</code> 
                            This will get the game's metatable which contains __index, __newindex, __namecall etc. <br>

                            We will now make a variable with the __namecall metamethod so we can call it later.

                            <code>local OldNamecall = Metatable.__namecall; </code> <br>

                            We have run into a problem, the game metatable is readonly, meaning we will have to make it writeable first.

                            <code>setreadonly(Metatable, false)</code> <br>
                            Now we have full access to the game metatable!
                            <br>
                            We will now make our own __namecall event.

                            <br>
                            <code>Metatable.__namecall = function(table, ...) </code> <br> <br> <code>end</code>
                            <br>
                            The three dots means infinite parameters because different namecalls can have different paramerter lengths.
                            <br>
                            We are now going to put the three dots in a table so we can access it easily.
                            <br>
                            <code>local Table = {...}</code>
                            <br>
                            Now we will add a check to make sure that the exploit isn't the one trying to kick us.
                            <br>
                            <code>if not checkcaller() then</code> <br> <code>end</code>
                            <br>
                            Checkcaller checks if the exploit is calling __namecall.

                            We will now check and block the kick inside that if statement.
                            <br>

                            <code>if Table[#Table] == "Kick" then</code> <br> <code>return</code> <br> <code>end</code>

                            Table[#Table] takes the last parameter of the Table and if its "Kick" then it will return ending the :Kick() function. <br>

                            Then outside that if checkcaller scope, we have to return the oldnamecall variable we made earlier so it doesn't break other namecalls. <br>

                            <code>return OldNamecall(table, ...)</code> <br> <code>end</code>
                            <br>

                            Thats it! If the a game's local script or modulescript tries to kick you it will stop it!

						</p>
                        
                        <hr>
                        <a class="anchor" id="metafinal"></a>
						<h3>The uses of Metatables in Exploiting</h3>
						<p>
                            Metatables, in my opinion are the most useful thing in exploiting. <br> Using metamethods you have learned in this lesson you will soon see they are very useful. <br>

                            <br>

                            I leave the inspiration up to you, you are the scripter with metatables you can create many things. <br> Thank you for taking the care to reading this whole long lesson! <br> <br>
                            Sincerely, <br> 
                            Zwolf#3762 

						</p>
						
                        <hr>
                        <a class="anchor" id="envintro"></a>
						<h3>Enviroment Introduction</h3>
						<p>
                            Enviroments are one of the advanced subjects in exploiting roblox. Enviroments can be scripts or functions. <br>
                            The objective of manipulating enviroments is making existing variables and functions be manipulated to your own instructions. <br> <br>

                            The following functions/tables will be used in the following tutorials: 
                            <code>getsenv</code>, <code>getreg</code>, and <code>debug</code>
						</p>
                        
						<hr>
                        <a class="anchor" id="globalset"></a>
						<h3>Setting Global Variables</h3>
						<p>
                            You see a lot of modern day games their scripts try to local out everything. <br>
                            Using local is a lot better than globally scoping, although there is another reason why locally scoping is used more. <br>

                            You can change any globally scoped function, variable anything as long as its global, using getsenv.

                            Let's say there is a game that has this local script: <br> <br>
                            <code>StringToPrint = "Hi there!"</code> <br>
                            <code>while wait(3) do print(StringToPrint) end</code> <br> <br>
			    
			    <strong>NOTE:</strong> This will not work if the script has finished running, make sure the script has some sort of loop or event to keep it running! <br> <br>
                            The variable "StringToPrint" is globally scoped. Let's say that script's directory is: "game.Players.LocalPlayer.PlayerScripts.LocalScript" <br>
                            Let's now change that globally scoped variable. <br> <br>
                            <code>getsenv(game.Players.LocalPlayer.PlayerScripts.LocalScript).StringToPrint = "Hey! I changed this string by getsenv!"</code> <br> <br>
                            Now it will start printing "StringToPrint"! Have fun with your newly learned knowledge!

						</p>
                        
                        <hr>
                        <a class="anchor" id="upvintro"></a>
						<h3>Introduction to upvalues</h3>
						<p>
                            An upvalue is essentially a variable but in a certain context. <br>
                            An upvalue is a variable changed in a function a example of a upvalue would be: <br> <br>
                            <code>local var = 5</code> <br>
                            <code>function thing var = 3 print(var) end</code> <br> <br>

                            The var in the function thing would be a upvalue. <br>
                            Most games have local variables at the top of the script but forget about these upvalues, as such we can easily manipulate them.


						</p>
												
						<hr>
                        <a class="anchor" id="upvsetting"></a>
						<h3>Setting Upvalues</h3>
						<p>
                            So now you know what upvalues are, but what can we do with them? We can set them to something else. <br> <br>
                            
                            To manipulate upvalues you need a script enviroment. A example of getting a upvalue: <br> <br>
                            <code>debug.getupvalue(getsenv(scriptdirectory).scriptfunction, "strokes")</code> <br> <br>

                            That would return the amount of strokes that upvalue has. <br>
                            debug.getupvalue takes two parameters: function and upvaluename. <br> <br>

                            Setting upvalues is just as easy: <br> <br>
                            <code>debug.setupvalue(getsenv(scriptdirectory).scriptfunction, "strokes", 700)</code> <br> 

                            <br> The upvalue strokes would now be 700. <br> <br>

                            Let's say there is a script with a function that updates your stats. It would be at game.Players.LocalPlayer.PlayerScripts.LocalScript <br>
                            That script has a function that updates the stats and it has a upvalue. <br> <br>

                            <code>local coins = 0</code> <br>
                            <code>function UpdateStats()</code> <br>
                            <code>coins = 10</code> <br>
                            <code>SendStatsToServer(coins)</code> <br>
                            <code>end</code> <br> <br>

                            Now lets change that coins to something bigger. <br> <br>
                            
                            <code>local env = getsenv(game.Players.LocalPlayer.PlayerScripts.LocalScript)</code> <br>
                            <code>debug.setupvalue(env.UpdateStats, "coins", 999999)</code> <br> <br>

                            Your coins would be sent to the server as "99999" making you rich!
						</p>
                        
                        <hr>
                        <a class="anchor" id="renv-genv"></a>
						<h3>Roblox Environment and Synapse Environment</h3>
						<p>
                            The Synapse and Roblox Environment are kept seperate for security reasons, but we can get the roblox environment and the synapse environment. <br> <br>

                            The _G table in synapse is not the same table as roblox's _G table we can access this table like this: <br> <br>
                            <code>getrenv()._G</code> <br> <br>

                            Thats not the only use, you can pretty much change anything like print: <br> <br>
                            <code>getrenv().print = warn</code> <br> <br>

                            Now whenever roblox prints something it will warn instead. It is the same for the synapse enviroment: <br> <br>

                            <code>getgenv().print = warn</code>

						</p>
                        
                        <hr>
                        <a class="anchor" id="registry"></a>
						<h3>The Lua Registry and its uses</h3>
						<p>
                            Lua functions and threads are stored in the registry, to get the registry you can do: <br> <br>
                            <code>debug.getregistry()</code> or <code>getreg()</code> <br> <br>

                            Since roblox can keep changing script parents making it difficult to get those scripts, getting the functions in the registry is alot easier. <br>

                            They can also parent scripts to nil making it even more annoying! <br>
                            There is one problem, testing if its the right function you want. One solution is just checking if that function has a upvalue in that function your looking for: <br> <br>

                            <code>for i,v in pairs(getreg()) do</code> <br>
                            <code>	if type(v) == "function" then</code> <br>
                            <code>		for z,x in pairs(debug.getupvalues(v)) do</code> <br>
                            <code>			if z == "AUpvalueExample" then</code> <br>
                            <code>				-- stuff</code> <br>
                            <code>			end</code> <br>
                            <code>		end</code> <br>
                            <code>	end</code> <br>
                            <code>end</code> <br> <br>

                            <strong>NOTE:</strong> I am not very ascustomed to using the registry, if I missed something or I am wrong about something please contact me on discord: Zwolf#3762

						</p>
                        
                        <hr>
                        <a class="anchor" id="localconst"></a>
						<h3>Locals and Constants</h3>
						<p>
                            Locals can be manipulated with debug.getlocal and debug.setlocal but they require levels, which are going to be covered in the next lesson. <br> <br>

                            Constants I believe are completely undocumentated, which is very sad. I will be the first to explain what they are, and how to manipulate them. <br>
                            A constant in lua can be a function name, a variable name, a table name, local does not matter in constants. <br>

                            In the next lesson, we will learn how to use <code>debug.getlocal</code>, <code>debug.getlocal</code>, <code>debug.getconstant</code>, and <code>debug.setconstant</code> <br> <br>
                            It is recommended to reread all these lessons at least once so you can remember it all! :) 



						</p>
                        
                        <hr>
                        <a class="anchor" id="levelintro"></a>
						<h3>Level Introduction</h3>
						<p>
                            Levels can be get by <code>getfenv(level)</code> level 1 is is the scope calling getfenv and level 2 is the current calling script. <br>
                            There is unlimited levels depending on the scope for example if a scope is in a scope in another scope then it would have level 3. <br>
                            We are going to use levels to beable to set constants and locals.
						</p>
                        
                        <hr>
                        <a class="anchor" id="levelmanip"></a>
						<h3>Level Manipulation</h3>
						<p>
                            Manipulating levels are fairly easy, it can be done by debug.setlocal and debug.setconstant. <br>
                            A example of setting a local variable would be: <br> <br>

                            <code>function func()</code> <br>
                            <code>local x = 5</code> <br>
                            <code>print(debug.getlocal(1, "x"))</code> <br>
                            <code>end</code> <br> <br>

                            It would print 5, it is the similar with setting locals. <br> <br>

                            <code>function func()</code> <br>
                            <code>local x = 5</code> <br>
                            <code>debug.setlocal(1, "x", "10")</code> <br>
                            <code>print(x)</code> <br>
                            <code>end</code> <br> <br>

                            It would print 10. The first parmeter "1" is the current level, and x is the variable name, and the 3rd parameter is the new value. <br>

                            Lua Constants are function names, variable names, etc. We are going to manipulate them. <br> <br>

                            <code>function func()</code> <br>
                            <code>print(debug.getconstant(2, 1))</code> <br>
                            <code>end</code> <br> <br>

                            It would output "func" because thats the function name. <br>

                            The parameters for getconstant are (stacklevel, varstack), the function func is on level 2 and the level 1 is the function name. <br>
                            We can also set constants: <br> <br>

                            <code>function func()</code> <br>
                            <code>print(debug.getconstant(2, 1))</code> <br>
                            <code>debug.setconstant(2, 1, "nofunc")</code> <br>
                            <code>print(debug.getconstant(2, 1))</code> <br> <br>

                            It would change the function name "func" to "nofunc".

						</p>
                        
                        <hr>
                        <a class="anchor" id="levelhook"></a>
                        <h3>Level Hooking</h3>
						<p>
                            The goal of Level Hooking is to beable to use functions like <code>debug.setlocal</code> and <code>debug.setconstant</code> in scripts. <br> <br>

                            There is very few solutions to this problem, however we will be going over a solution together. <br>
                            Let's say in a game there is a script like this: <br> <br>

                            <code>local function func()</code> <br>
                            <code>local hooked = false</code> <br>
                            <code>workspace:GetRealPhysicsFPS()</code> <br>
                            <code>wait(3)</code> <br>
                            <code>print(hooked)</code> <br> <br>
                            <code>while wait(3) do </code> <br>
                            <code>func()</code> <br>
                            <code>end</code> <br> <br>

                            Our goal is to set hooked to true. <br>
                            The script is using a namecall, meaning we can use the __namecall metamethod to get the stack level. <br> <br>

                            <code>local Metatable = getrawmetatable(game:GetService("Workspace"))</code> <br>
                            <code>local OldNamecall = Metatable.__namecall</code> <br>
                            <code>setreadonly(Metatable, false)</code> <br>
                            <code>Metatable.__namecall = function(t, ...) </code> <br>
                            <code>local Table = {...}</code> <br>
                            <code>if not checkcaller() then</code> <br>
                            <code>if Table[#Table] == "GetRealPhysicsFPS" then</code> <br>
                            <code>debug.setlocal(2, "hooked", true)</code> <br>
                            <code>end</code> <br>
                            <code>end</code> <br>
                            <code>return OldNamecall(t, ...)</code> <br>
                            <code>end</code> <br> <br>

                            We have now set hooked to true and it is now printing true! <br>

						    <strong>NOTE:</strong> This part is still being added to! Check back soon for changes!
						</p>
                        
						
						</section>

					<!-- Lists -->
				  
				  <!-- Table -->
						
					<!-- Buttons -->
					<!-- Form -->
						<section>
                            <form method="post" action="https://synapse.rip/synapse/syn/api.html#">
                            </form>
						</section>

					<!-- Image -->
				</div>
			</section>

		<!-- Footer -->
			<div id="footer">
				<div class="container"> </div>
				<ul class="copyright">
				  <li>© Synapse Technologies All rights reserved.</li>
				</ul>
			</div>

		<!-- Scripts -->
			<script src="jquery.min.js.download"></script>
			<script src="jquery.dropotron.min.js.download"></script>
			<script src="jquery.scrollgress.min.js.download"></script>
			<script src="skel.min.js.download"></script>
			<script src="util.js.download"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="main.js.download"></script>

	
<div id="titleBar"><a href="https://synapse.rip/synapse/syn/api.html#navPanel" class="toggle"></a><span class="title">Synapse <span>by 3dsboy08</span></span></div><div id="navPanel"><nav></nav></div></body></html>
